<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Search</title>
    <style>
    @import url(//fonts.googleapis.com/earlyaccess/hanna.css);
        ul {
            list-style: none;
        }
        main {
            background-color: slategray;
            border-right: lightslategray;
            border-right: 10px;
        }
        p {
            font-family: 'Hanna';
            color: snow;
        }
        li {
            font-family: 'Hanna';
            color: snow;
        }
    </style>
    <?php
    error_reporting(E_ALL);
    ini_set("display_errors", 1);
    $conn = mysqli_connect('localhost', 'root', '123456', 'mysql');

    $stationArray = array();
    ?>
    <?php
    $sql = "SELECT STATION_NAME as stationName FROM STATIONS";
    $result = mysqli_query($conn, $sql) or die(mysqli_error($conn));
    while ($row = mysqli_fetch_array($result)) {
        array_push($stationArray, $row['stationName']);
    }    
    ?>
    <script>
        var stationOut = [];
        var ctgrOut = [];
        function attach(val) {
            if (val.checked == true) {
                if (val.name == 'station') {
                    stationOut.push(val.value);
                    stationOut.sort();
                }
                else {
                    ctgrOut.push(val.value);
                    ctgrOut.sort();
                }
            }
            else {
                if (val.name == 'station') {
                    const i = stationOut.indexOf(val.value);
                    if (i > -1) stationOut.splice(i , 1);
                    stationOut.sort();
                }
                else {
                    const i = ctgrOut.indexOf(val.value);
                    if (i > -1) ctgrOut.splice(i , 1);
                    ctgrOut.sort();
                }
            }
            console.log(stationOut);
            console.log(ctgrOut);
        }
        function showResult() {
            for (var i = 0; i < stationOut.length; i++) {
                station = stationOut[i];
                for (var j = 0; j < ctgrOut.length; j++) {
                    ctgr = ctgrOut[j];
                    var body = document.getElementById("body");
                    console.log(body);
                    var result = document.createElement("div");
                    result.innerHTML = " | " + station + " | " + ctgr + " | 에 대한 정보 리스트";
                    result.setAttribute("id", "result");
                    result.setAttribute("float", "left");
                    console.log(result);
                    body.appendChild(result);
                }
            }
        }
       /*
       function showResult() {
           var stationOutLength = $("input[name = 'station']").length;
           stationOut = new Array(stationOutLength);
           for (var i = 0; i < stationOutLength; i++) {
               stationOut[i] = $("input[name = 'station']")[i].value;
           }
           var ctgrOutLength = $("input[name = 'ctgr']").length;
           ctgrOut = new Array(ctgrOutLength);
           for (var i = 0; i < ctgrOutLength; i++) {
               ctgrOut[i] = $("input[name = 'ctgr']")[i].value;
           }
           for (var i = 0; i < stationOut.length; i++) {
                station = stationOut[i];
                for (var j = 0; j < ctgrOut.length; j++) {
                    ctgr = ctgrOut[j];
                    var body = document.getElementById("body");
                    console.log(body);
                    var result = document.createElement("div");
                    result.innerHTML = " | " + station + " | " + ctgr + " | 에 대한 정보 리스트";
                    result.setAttribute("id", "result");
                    result.setAttribute("float", "left");
                    console.log(result);
                    body.appendChild(result);
                }
            }
       }
       */
    </script>
</head>

<body id="body">
    <div style="
    background-color: rgb(46, 46, 59);
    border-right: 1px solid;
    border-right-color: rgb(172, 172, 172);
    width: 400px;
    height: 1200px;
    float: left;
    ">
    <p style="
    font-size: 30px;
    font-weight: 300;
    margin-left: 10px;
    ">Template Test 01</p>
    <ul style="
    width: 100%;
    padding-left: 0px;
    ">
        <p style="
        font-size: 20px;
        text-align: center;
        ">
            Category
        </p>
        <li style="">
            <input type="checkbox" name="ctgr" id="restaurantCheck" size=10 value="restaurant" onclick="attach(this)">
            <label for="restaurantCheck" style="margin-left: 25px;">Restaurants</label>
        </li>
        <br />
        <li style="">
            <input type="checkbox" name="ctgr" id="activityCheck" size=10 value="activity" onclick="attach(this)">
            <label for="activityCheck" style="margin-left: 25px;">Activities</label>
        </li>
        <br />
        <li style="">
            <input type="checkbox" name="ctgr" id="placeCheck" size=10 value="place" onclick="attach(this)">
            <label for="placeCheck" style="margin-left: 25px;">Places</label>
        </li>
        <br />
    </ul>

    </div>
</body>

</html>